<html>
<head>
	<script src="https://d3js.org/d3.v4.js"></script>
    <script src="../build/linked-charts.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../build/linked-charts.css">
    <script src = '../build/mds.js'></script>

    
</head>
<body>
<!--div id="pointer_div" onclick="point_it(event)"-->
	<table>
	<tr>
	<td>
	<img id="pointer_div" src = '../../Pictures/heatmap.png' onmousemove="point_it(event)" width="600" height="800">
	</td>
	<td id = 'mds'>
	</td>
	</tr>
	</table>

</body>
<script language="JavaScript">
	var noSamples = 164
	var patientIndex = 0
	var patientSamples = Object.keys(mds)
	img = document.getElementById("pointer_div");
	ele = img.getBoundingClientRect()
	var imgTop = ele.top + pageYOffset;
	var imgLeft = ele.left + pageXOffset;
	var imgBottom = ele.bottom + pageYOffset;
	interval = (imgBottom - imgTop)/noSamples


function point_it(event)
{
	pos_x = event.offsetX?(event.offsetX):event.pageX-document.getElementById("pointer_div").offsetLeft;
	pos_y = event.offsetY?(event.offsetY):event.pageY-document.getElementById("pointer_div").offsetTop;
	
	patientIndex = parseInt(pos_y/interval) + 1;
	MDS.update();
}
var MDS = lc.scatterChart()
      .dataIds(patientSamples)
      .x(function(k)
        { return mds[k][0]})
      .y(function(k)
        { return mds[k][1]})
      .colour(function(k)
      {
        return k == patientSamples[patientIndex] ? "red" : "black";

      })
      .place("#mds");
	//var noSamples = 164
	
	
	//alert(imgid.getBoundingClientRect().top);

</script>
</html>

