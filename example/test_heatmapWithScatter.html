<head>
	<link rel="stylesheet" type="text/css" href="../src/style.css">
	<title>Heatmap connected to a scatter plot</title>
	<script src = "https://d3js.org/d3.v4.min.js"></script>
	<script src = "https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
	<script src = "https://d3js.org/d3-color.v1.min.js"></script>
	<script src = "input_heatmapWithScatter.js"></script>
	<script src = "../build/d3-linked-charts.js"></script>
</head>
<body>
</body>
<table>
	<tr>
		<td>
			<div id = "heatmap"></div>
		</td>
		<td>
			<div id = "scatter"></div>
		</td>
	</tr>
</table>
<script>

var selected = {
	x: Object.keys(data.cors)[0],
	y: Object.keys(data.cors)[0]
};

onHeatmapClick = function(rowId, colId){
	selected.x = rowId;
	selected.y = colId;
	scatter.update();
}

var heatmap = d3.heatmapChart()
	.nrows(Object.keys(data.cors).length)
	.ncols(Object.keys(data.cors).length)
	.value(function(rowId, colId) {return data.cors[rowId][colId];})
	.rowIds(Object.keys(data.cors))
	.colIds(Object.keys(data.cors))
	.on_click(onHeatmapClick)
	.mode("svg")
	.place("#heatmap");

var scatter = d3.scatterChart()
		.dataIds(Object.keys(data.dss))
		.x(function(k){return data.dss[k][selected.x];})
		.y(function(k){return data.dss[k][selected.y];})
		.labelX(function() {return selected.x;})
		.labelY(function() {return selected.y;})
		.on_click(function(d) {console.log(d);})
		.place("#scatter");

</script>
</body>

