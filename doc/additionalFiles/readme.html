<h1 id="linked-charts">Linked Charts</h1>
<pre class="tiy" showCode="false"
    tiy-preload="../lib/linked-charts.min.js;../example/inputdata_simple.js;../lib/linked-charts.css"
    width="1000" height="400" 
    subscr="Here is a simple example of linked charts. Heatmap shows correlations between gene 
                    expression and drug response for 52 samples from patients with acute myeloid leukaemia (AML).
                    Scatterplot shows individual values of logarithmised read counts and drug scores for all the
                    samples. Feel free to explore basic functionality of the linked charts by clicking on its elements.">
    //create a layout for the charts to be placed in
    var line = d3.select("body")
        .append("table")
            .append("tr");
    line.append("td")
        .attr("id", "heatmap");
    line.append("td")
        .attr("id", "scatterplot");

    //global variables to store 
    var selGene = 1;                                               
    var selDrug = 1;

    var scatterplot = lc.scatterChart()
      .width(300)
      .height(300)
      .labelX("Gene Expression")
      .labelY("Drug Score")
      .size(3)
      .colour("CornflowerBlue")
      .x( function( k ) { return geneExprs[selGene][k] } )
      .y( function( k ) { return drugScores[selDrug][k] } )
      .title(function() { 
        return geneNames[selGene] + "/" + drugNames[selDrug]
      })
      .place("#scatterplot");

    var heatmap = lc.heatmapChart()
      .ncols( geneNames.length )
      .nrows( drugNames.length )
      .margin({top: 50, left: 50, right: 60, bottom: 160})
      .height( 350 )
      .width( 600 )
      .colourRange( [ -1, 1 ] )
      .palette( d3.interpolateRdBu )
      .value( function( row, col ) {  
         return lc.pearsonCorr( drugScores[row], geneExprs[col] ) 
       } )
      .colLabels( function(col) { 
         return geneNames[col] 
       } )
      .rowLabels( function(row) { 
         return drugNames[row] 
       } )
      .on_click( function( rowId, colId ) {
         selGene = colId;
         selDrug = rowId;
         scatterplot.update();
      })
      .cluster("Row")
      .cluster("Col")
      .place( "#heatmap")
</pre>
<h2 id="introduction">Introduction</h2>
<p>The <tt>linked-charts</tt> is a <a href="https://d3js.org/">d3-based</a> JavaSript library that provides user with an easy way to generate sets of linked interactive charts to allow easy data exploration.</p>
<p>Currently supported types of charts are:</p>
<ul>
<li>Heatmap</li>
<li>Scatterplot</li>
<li>Lineplot (y = f(x), x = f(y), x = f(t) and y = g(t))</li>
<li>Barchart</li>
<li>Beeswarm</li>
<li>Simple table</li>
</ul>
<h2 id="usage">Usage</h2>
<h2 id="tutorial">Tutorial</h2>
<script src="lib/codeMirror/codemirror.js"></script>
<link rel="stylesheet" href="lib/codeMirror/codemirror.css">
<script src="lib/codeMirror/javascript.js"></script>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="lib/tiy.js"></script>
<link rel="stylesheet" href="lib/tiy.css">
<script>tiy.make_boxes();</script>
